# transFFIG-RATE

 Transcript Fiat Functional Intermediate Granules - by - Reliability and Trustworthiness Estimation
 
## Purpose

TransFFIG-RATE is a transcript aggregation methodology. Reference transcriptomes and *de novo* transcriptome assembly produce transcript expression variables that contain high uncertainty and variability. The unreliable nature of these transcript expression vectors precludes downstream scientific and clinical discoveries.

By aggregating the transcripts per gene according to function (sequence right now) into transcript groups (TGs), the statistical reliability of a transcript expression vector is increased. The transcripts are first compared using transffig_prep, which uses a user-defined MSA algorithm to determine their sequence distance matrix. This distance matrix is used to calculate a hierarchical clustering from gene to transcripts as end-point clusters. Every unique depth of the hierarchical clustering represents an intermediate granularity between gene and transcripts. For each of these granularities, we calculate relative statistical reliability and relative trustworthiness (biological precision). The granularity with the highest reliability + trustworthiness is extracted.

tl;dr - transFFIG-RATE increases the reliability and applicability of transcript expression, via transcript aggregation. 

## Installation

Requirements:
 - clustalo, MAFFT, MUSCLE, and T-Coffee (only the desired ones need to be installed)
 - SciPy
 - Numpy
 
TransFFIG-RATE can be installed with the following commands.

Using pip with Anaconda:

```console
cd ~/transFFIG-RATE
pip install .
```

Using setuptools:

```console
cd ~/transFFIG-RATE
python setup.py 
```

If you would like to place the installation into a specific prefix, add ``--prefix=<path>'' to the previous command line, where <path> is replaced with the specific prefix.

## Usage

TransFFIG-RATE is run through two steps: transffig\_prep and transffig\_rate. Transffig\_prep is initially run to calculate distance matrices used in transffig-rate.  

Help with either command can be accessed using:

```console
transffig_prep -h
transffig_rate -h
```

### transffig\_prep

transffig\_prep requires three preprocessed inputs:
1. GMAP output - the direct output of running the *de novo* transcriptome through GMAP.
2. *de novo* transcriptome FASTA - the transcriptome generated by the user using any *de novo* assembler.
3. A reference genome processed into the comma separated file: <gene name>,<chromosome>,<start>,<end>,<strand>.

```console
transffig_prep -g <gmap output file> -f <de novo fasta> -s <output directory> -c <number of concurrent jobs> -r <the reference genome>
```

### transffig\_rate

The inputs for transffig\_rate are outputs for transffig\_prep.

```console
transffig_rate -t <FASTA output of transffig_prep> -p <MSA distance matrix directory> -o <output directory>
```

# Contributing to transFFIG-RATE
